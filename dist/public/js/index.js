(()=>{"use strict";var e={545:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0,t.Component=class{}},333:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentManager=void 0,t.ComponentManager=class{constructor(e){this.components=new Map,this.name=e}addComponentToEntity(e){}}},180:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Entity=void 0,t.Entity=class{constructor(e){this.id=e}addComponent(e){e.addComponentToEntity(this.id)}}},125:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityManager=void 0;const o=n(180);t.EntityManager=class{constructor(){this.entities=new Map}createEntity(e){if(e||(e=Math.random().toString()+Math.pow(Math.random(),Math.random()).toString()),this.entities.has(e))throw new Error(`${this} already has an entity called ${e}`);return this.entities.set(e,new o.Entity(e)),this.entities.get(e)}}},533:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.System=void 0,t.System=class{constructor(e,[...t]){this.entityManager=e,this.managersToQuery=new Map,t.forEach((e=>{this.managersToQuery.set(e.name,e)})),this.entities=new Set}populateEntitiesList(){let e=new Map,t=new Set;this.managersToQuery.forEach((t=>{let n=t.components.keys();for(const t of n)if(e.has(t)){let n=e.get(t);n++,e.set(t,n)}else e.set(t,1)}));for(const n of e)n[1]==this.managersToQuery.size&&t.add(n[0]);this.entities=t}init(){}update(){}}},915:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Gravity=void 0;const o=n(533);class s extends o.System{constructor(e,[...t]){super(e,t)}update(){0==this.entities.size&&this.populateEntitiesList(),this.entities.forEach((e=>{this.managersToQuery.get("VelocityComponentManager").components.get(e).dy+=.01}))}}t.Gravity=s},646:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PhysicsComponentManager=t.Physics=void 0;const o=n(545),s=n(333);class a extends o.Component{}t.Physics=a;class i extends s.ComponentManager{constructor(){super("PhysicsComponentManager"),this.components=new Map}addComponentToEntity(e){this.components.set(e,new a)}}t.PhysicsComponentManager=i},586:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PositionComponentManager=t.Position=void 0;const o=n(545),s=n(333);class a extends o.Component{constructor(){super(...arguments),this.x=0,this.y=0}}t.Position=a;class i extends s.ComponentManager{constructor(){super("PositionComponentManager"),this.components=new Map}addComponentToEntity(e){this.components.set(e,new a)}}t.PositionComponentManager=i},566:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderSystem=void 0;const o=n(533);class s extends o.System{constructor(e,[...t]){super(e,t)}update(){0==this.entities.size&&this.populateEntitiesList(),this.entities.forEach((e=>{let t=this.managersToQuery.get("PositionComponentManager"),n=document.querySelector(".Player"),o=t.components.get(e);n.style.top=o.y.toString()+"px"}))}}t.RenderSystem=s},767:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderableComponentManager=t.Renderable=void 0;const o=n(545),s=n(333);class a extends o.Component{}t.Renderable=a;class i extends s.ComponentManager{constructor(){super("RenderableComponentManager"),this.components=new Map}addComponentToEntity(e){this.components.set(e,new a)}}t.RenderableComponentManager=i},870:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransformSystem=void 0;const o=n(533);class s extends o.System{constructor(e,[...t]){super(e,t)}update(){0==this.entities.size&&this.populateEntitiesList(),this.entities.forEach((e=>{let t=this.managersToQuery.get("PositionComponentManager"),n=this.managersToQuery.get("VelocityComponentManager"),o=t.components.get(e),s=n.components.get(e);o.y+=s.dy}))}}t.TransformSystem=s},482:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VelocityComponentManager=t.Velocity=void 0;const o=n(545),s=n(333);class a extends o.Component{constructor(){super(...arguments),this.dx=0,this.dy=0}}t.Velocity=a;class i extends s.ComponentManager{constructor(){super("VelocityComponentManager"),this.components=new Map}addComponentToEntity(e){this.components.set(e,new a)}}t.VelocityComponentManager=i}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{const e=n(125),t=n(915),o=n(646),s=n(586),a=n(767),i=n(566),r=n(870),c=n(482),p=setInterval((()=>{"complete"==document.readyState&&(clearInterval(p),function(){const e=d.createEntity("Player");e.addComponent(m),e.addComponent(y),e.addComponent(u),e.addComponent(l),C()}())}),20),d=new e.EntityManager,m=new s.PositionComponentManager,y=new o.PhysicsComponentManager,u=new c.VelocityComponentManager,l=new a.RenderableComponentManager,h=new t.Gravity(d,[m,y,u]),M=new r.TransformSystem(d,[m,u]),g=new i.RenderSystem(d,[m,l]);function C(){h.update(),M.update(),g.update(),requestAnimationFrame(C)}})()})();